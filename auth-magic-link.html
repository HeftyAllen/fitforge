<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Link - FitForge</title>
    <meta name="description" content="Passwordless sign in to FitForge">
    <link rel="stylesheet" href="assets/css/styles.css">
      <link rel="stylesheet" href="assets/css/styles.css">
        <link rel="stylesheet" href="assets/css/auth.css">
</head>
<body class="auth-page magic-link-page">
    <div class="auth-container">
        <!-- Background Visual -->
        <div class="auth-background">
            <div class="auth-graphic">
                <svg width="400" height="400" viewBox="0 0 400 400" fill="currentColor">
                    <path d="M200 50c82.8 0 150 67.2 150 150s-67.2 150-150 150S50 282.8 50 200 117.2 50 200 50zm0-30C119.3 20 55 84.3 55 165s64.3 145 145 145 145-64.3 145-145S280.7 20 200 20z"/>
                    <path d="M200 80c66.3 0 120 53.7 120 120s-53.7 120-120 120S80 266.3 80 200 133.7 80 200 80zm0-30C126.4 50 65 111.4 65 185s61.4 135 135 135 135-61.4 135-135S273.6 50 200 50z"/>
                    <path d="M180 140h40v120h-40z"/>
                    <path d="M140 180h120v40H140z"/>
                    <path d="M160 220h80v40h-80z"/>
                </svg>
            </div>
        </div>

        <!-- Auth Form -->
        <div class="auth-form-container">
            <div class="auth-header">
                <a href="index.html" class="auth-logo">
                    <svg class="logo-icon" width="32" height="32" viewBox="0 0 32 32" fill="currentColor">
                        <path d="M16 4L4 16l12 12 12-12L16 4zm0 4.5l7.5 7.5L16 23.5 8.5 16 16 8.5z"/>
                        <circle cx="16" cy="16" r="4"/>
                    </svg>
                    <span class="logo-text">FitForge</span>
                </a>
                <h1>Magic Link</h1>
                <p>Passwordless sign in for quick access</p>
            </div>

            <!-- Send Magic Link Form -->
            <form class="auth-form" id="send-magic-form">
                <div class="form-group">
                    <label for="email" class="form-label">Email Address</label>
                    <input type="email" id="email" name="email" class="form-input" placeholder="Enter your email" required>
                    <div class="form-hint">
                        We'll email you a secure link to sign in instantly
                    </div>
                    <div class="form-error" id="email-error"></div>
                </div>

                <button type="submit" class="btn btn-primary btn-auth">
                    Send Magic Link
                </button>

                <!-- Success State (Initially Hidden) -->
                <div class="success-state" id="send-success" style="display: none;">
                    <div class="success-icon">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="currentColor">
                            <path d="M32 4C16.5 4 4 16.5 4 32s12.5 28 28 28 28-12.5 28-28S47.5 4 32 4zm0 4c13.3 0 24 10.7 24 24S45.3 56 32 56 8 45.3 8 32 18.7 8 32 8z"/>
                            <path d="M44.7 22.7L28 39.4l-8.7-8.7-2.8 2.8 11.5 11.5 19.5-19.5-2.8-2.8z"/>
                        </svg>
                    </div>
                    <h2>Magic Link Sent!</h2>
                    <p>Check your email at <strong id="sent-magic-email"></strong> for the sign-in link.</p>
                    <div class="success-info">
                        <div class="info-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                            </svg>
                            <span>Link expires in 15 minutes</span>
                        </div>
                        <div class="info-item">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                            </svg>
                            <span>Check your spam folder if you don't see it</span>
                        </div>
                    </div>
                    <div class="success-actions">
                        <button type="button" class="btn btn-secondary" onclick="resetSendForm()">
                            Send to another email
                        </button>
                        <a href="auth-login.html" class="btn btn-primary">
                            Use Password Instead
                        </a>
                    </div>
                </div>
            </form>

            <div class="auth-divider">
                <span>or verify existing link</span>
            </div>

            <!-- Verify Magic Link Form -->
            <form class="auth-form" id="verify-magic-form">
                <div class="form-group">
                    <label for="token" class="form-label">Magic Link Token</label>
                    <input type="text" id="token" name="token" class="form-input" placeholder="Paste your magic link or token">
                    <div class="form-hint">
                        Paste the entire link from your email or just the token code
                    </div>
                    <div class="form-error" id="token-error"></div>
                </div>

                <button type="submit" class="btn btn-secondary btn-auth">
                    Verify & Sign In
                </button>

                <!-- Verification Success (Initially Hidden) -->
                <div class="success-state" id="verify-success" style="display: none;">
                    <div class="success-icon">
                        <svg width="64" height="64" viewBox="0 0 64 64" fill="currentColor">
                            <path d="M32 4C16.5 4 4 16.5 4 32s12.5 28 28 28 28-12.5 28-28S47.5 4 32 4zm0 4c13.3 0 24 10.7 24 24S45.3 56 32 56 8 45.3 8 32 18.7 8 32 8z"/>
                            <path d="M44.7 22.7L28 39.4l-8.7-8.7-2.8 2.8 11.5 11.5 19.5-19.5-2.8-2.8z"/>
                        </svg>
                    </div>
                    <h2>Welcome Back!</h2>
                    <p>Successfully signed in with magic link</p>
                    <div class="loading-spinner">
                        <div class="spinner"></div>
                        <span>Redirecting to your dashboard...</span>
                    </div>
                </div>
            </form>

            <div class="auth-footer">
                <p>Prefer traditional login? <a href="auth-login.html" class="auth-link">Sign in with password</a></p>
            </div>
        </div>

        <!-- Theme Toggle -->
        <button class="auth-theme-toggle" aria-label="Toggle theme" data-theme-toggle>
            <svg class="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
            </svg>
        </button>
    </div>

    <script src="assets/js/theme.js"></script>
    <script src="assets/js/modules/auth.js"></script>
</body>
</html>